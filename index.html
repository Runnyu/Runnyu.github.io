<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  
  <meta http-equiv="X-UA-Compatible" content="IE=edge" >
  <title>Runnyu&#39;s Blog</title>
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
  <meta name="description">
<meta property="og:type" content="website">
<meta property="og:title" content="Runnyu's Blog">
<meta property="og:url" content="http://yoursite.com/index.html">
<meta property="og:site_name" content="Runnyu's Blog">
<meta property="og:description">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="Runnyu's Blog">
<meta name="twitter:description">
  
    <link rel="alternative" href="/atom.xml" title="Runnyu&#39;s Blog" type="application/atom+xml">
  
  
    <link rel="icon" href="/favicon.png">
  
  <link rel="stylesheet" href="/css/style.css">
</head>

<body>
  <div id="container">
    <div class="left-col">
    <div class="overlay"></div>
<div class="intrude-less">
	<header id="header" class="inner">
		<a href="/" class="profilepic">
			
			<img lazy-src="img/hs.jpg" class="js-avatar">
			
		</a>

		<hgroup>
		  <h1 class="header-author"><a href="/">runnyu</a></h1>
		</hgroup>

		

		
			<div class="switch-btn">
				<div class="icon">
					<div class="icon-ctn">
						<div class="icon-wrap icon-house" data-idx="0">
							<div class="birdhouse"></div>
							<div class="birdhouse_holes"></div>
						</div>
						<div class="icon-wrap icon-ribbon hide" data-idx="1">
							<div class="ribbon"></div>
						</div>
						
						
					</div>
					
				</div>
				<div class="tips-box hide">
					<div class="tips-arrow"></div>
					<ul class="tips-inner">
						<li>Menu</li>
						<li>Tags</li>
						
						
					</ul>
				</div>
			</div>
		

		<div class="switch-area">
			<div class="switch-wrap">
				<section class="switch-part switch-part1">
					<nav class="header-menu">
						<ul>
						
							<li><a href="/">主页</a></li>
				        
							<li><a href="/archives">所有文章</a></li>
				        
						</ul>
					</nav>
					<nav class="header-nav">
						<div class="social">
							
								<a class="github" target="_blank" href="https://github.com/Runnyu" title="github">github</a>
					        
						</div>
					</nav>
				</section>
				
				
				<section class="switch-part switch-part2">
					<div class="widget tagcloud" id="js-tagcloud">
						<a href="/tags/CGI/" style="font-size: 10px;">CGI</a> <a href="/tags/LeetCode/" style="font-size: 20px;">LeetCode</a>
					</div>
				</section>
				
				
				

				
			</div>
		</div>
	</header>				
</div>

    </div>
    <div class="mid-col">
      <nav id="mobile-nav">
  	<div class="overlay">
  		<div class="slider-trigger"></div>
  		<h1 class="header-author js-mobile-header hide">runnyu</h1>
  	</div>
	<div class="intrude-less">
		<header id="header" class="inner">
			<div class="profilepic">
			
				<img lazy-src="img/hs.jpg" class="js-avatar">
			
			</div>
			<hgroup>
			  <h1 class="header-author">runnyu</h1>
			</hgroup>
			
			<nav class="header-menu">
				<ul>
				
					<li><a href="/">主页</a></li>
		        
					<li><a href="/archives">所有文章</a></li>
		        
		        <div class="clearfix"></div>
				</ul>
			</nav>
			<nav class="header-nav">
				<div class="social">
					
						<a class="github" target="_blank" href="https://github.com/Runnyu" title="github">github</a>
			        
				</div>
			</nav>
		</header>				
	</div>
</nav>

      <div class="body-wrap">
  
    <article id="post-LeetCode Remove Nth Node From End of List" class="article article-type-post" itemscope itemprop="blogPost">
  
    <div class="article-meta">
      <a href="/2016/03/28/LeetCode Remove Nth Node From End of List/" class="article-date">
  	<time datetime="2016-03-28T02:19:03.839Z" itemprop="datePublished">2016-03-28</time>
</a>
    </div>
  
  <div class="article-inner">
    
      <input type="hidden" class="isFancy" />
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2016/03/28/LeetCode Remove Nth Node From End of List/">LeetCode题目:Remove Nth Node From End of List</a>
    </h1>
  

      </header>
      
    
    <div class="article-entry" itemprop="articleBody">
      
        <h2 id="Remove-Nth-Node-From-End-of-List"><a href="#Remove-Nth-Node-From-End-of-List" class="headerlink" title="Remove Nth Node From End of List:"></a>Remove Nth Node From End of List:</h2><p>Given a linked list, remove the nth node from the end of list and return its head.</p>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> Solution &#123;</span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">    <span class="function">ListNode* <span class="title">removeNthFromEnd</span><span class="params">(ListNode* head, <span class="keyword">int</span> n)</span> </span>&#123;</span><br><span class="line">        ListNode *fast = head, *slow = head;</span><br><span class="line">        <span class="keyword">while</span>(n--)</span><br><span class="line">            fast = fast-&gt;next;</span><br><span class="line">        <span class="comment">//要删除的结点是头结点</span></span><br><span class="line">        <span class="keyword">if</span>(<span class="literal">NULL</span> == fast)</span><br><span class="line">            <span class="keyword">return</span> head-&gt;next;</span><br><span class="line">        fast = fast-&gt;next;</span><br><span class="line">        <span class="keyword">while</span>(fast != <span class="literal">NULL</span>)&#123;</span><br><span class="line">            fast = fast-&gt;next;</span><br><span class="line">            slow = slow-&gt;next;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="comment">//删除结点</span></span><br><span class="line">        slow-&gt;next = slow-&gt;next-&gt;next;</span><br><span class="line">        <span class="keyword">return</span> head;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>

      
    </div>
    
    <div class="article-info article-info-index">
      
      
	<div class="article-tag tagcloud">
		<ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/LeetCode/">LeetCode</a></li></ul>
	</div>

      

      
      <div class="clearfix"></div>
    </div>
    
  </div>
  
</article>









  
    <article id="post-LeetCode Binary Tree Level Order Travalsal" class="article article-type-post" itemscope itemprop="blogPost">
  
    <div class="article-meta">
      <a href="/2016/03/25/LeetCode Binary Tree Level Order Travalsal/" class="article-date">
  	<time datetime="2016-03-25T09:19:33.296Z" itemprop="datePublished">2016-03-25</time>
</a>
    </div>
  
  <div class="article-inner">
    
      <input type="hidden" class="isFancy" />
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2016/03/25/LeetCode Binary Tree Level Order Travalsal/">LeetCode题目:Binary Tree Level Order Traversal</a>
    </h1>
  

      </header>
      
    
    <div class="article-entry" itemprop="articleBody">
      
        <h2 id="Binary-Tree-Level-Order-Traversal"><a href="#Binary-Tree-Level-Order-Traversal" class="headerlink" title="Binary Tree Level Order Traversal:"></a>Binary Tree Level Order Traversal:</h2><p>Given a binary tree, return the level order traversal of its nodes’ values. (ie, from left to right, level by level).</p>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> Solution &#123;</span><br><span class="line"><span class="keyword">private</span>:</span><br><span class="line">    <span class="function"><span class="keyword">void</span> <span class="title">helper</span><span class="params">(TreeNode *root, <span class="built_in">vector</span>&lt;<span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt;&gt; &amp;coll, <span class="keyword">int</span> level)</span></span>&#123;</span><br><span class="line">        <span class="comment">//第一次进入该层</span></span><br><span class="line">        <span class="keyword">if</span>(level + <span class="number">1</span> &gt; coll.size())</span><br><span class="line">            coll.push_back(<span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt;(<span class="number">1</span>, root-&gt;val));</span><br><span class="line">        <span class="comment">//把当前节点的val插入到第level层</span></span><br><span class="line">        <span class="keyword">else</span></span><br><span class="line">            coll[level].push_back(root-&gt;val);</span><br><span class="line">        <span class="comment">//递归的处理左右子树</span></span><br><span class="line">        <span class="keyword">if</span>(root-&gt;left)</span><br><span class="line">            helper(root-&gt;left, coll, level + <span class="number">1</span>);</span><br><span class="line">        <span class="keyword">if</span>(root-&gt;right)</span><br><span class="line">            helper(root-&gt;right, coll, level + <span class="number">1</span>);</span><br><span class="line">    &#125;</span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">    <span class="built_in">vector</span>&lt;<span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt;&gt; levelOrder(TreeNode* root) &#123;</span><br><span class="line">        <span class="built_in">vector</span>&lt;<span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt;&gt; coll;</span><br><span class="line">        <span class="keyword">if</span>(root)</span><br><span class="line">            helper(root, coll, <span class="number">0</span>);</span><br><span class="line">        <span class="keyword">return</span> coll;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>

      
    </div>
    
    <div class="article-info article-info-index">
      
      
	<div class="article-tag tagcloud">
		<ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/LeetCode/">LeetCode</a></li></ul>
	</div>

      

      
      <div class="clearfix"></div>
    </div>
    
  </div>
  
</article>









  
    <article id="post-C编写CGI解析GET跟POST请求" class="article article-type-post" itemscope itemprop="blogPost">
  
    <div class="article-meta">
      <a href="/2016/03/22/C编写CGI解析GET跟POST请求/" class="article-date">
  	<time datetime="2016-03-22T07:25:44.392Z" itemprop="datePublished">2016-03-22</time>
</a>
    </div>
  
  <div class="article-inner">
    
      <input type="hidden" class="isFancy" />
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2016/03/22/C编写CGI解析GET跟POST请求/">C编写CGI解析GET跟POST请求</a>
    </h1>
  

      </header>
      
    
    <div class="article-entry" itemprop="articleBody">
      
        <h4 id="首先配置好服务器-Apache配置cgi"><a href="#首先配置好服务器-Apache配置cgi" class="headerlink" title="首先配置好服务器:   Apache配置cgi"></a>首先配置好服务器:   <a href="http://runnyu.github.io/2016/03/22/Apache%E9%85%8D%E7%BD%AEcgi/" target="_blank" rel="external">Apache配置cgi</a></h4><p>index.html<br><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">FORM</span> <span class="attr">ACTION</span>=<span class="string">"/cgi-bin/mult-get.cgi"</span>&gt;</span></span><br><span class="line">	<span class="tag">&lt;<span class="name">P</span>&gt;</span>Get:请在下面填入乘数和被乘数，按下确定后可以看到结果。<span class="tag">&lt;<span class="name">p</span>&gt;</span></span><br><span class="line">	<span class="tag">&lt;<span class="name">INPUT</span> <span class="attr">NAME</span>=<span class="string">"m"</span> <span class="attr">SIZE</span>=<span class="string">"5"</span>&gt;</span><span class="tag">&lt;<span class="name">p</span>&gt;</span></span><br><span class="line">	<span class="tag">&lt;<span class="name">INPUT</span> <span class="attr">NAME</span>=<span class="string">"n"</span> <span class="attr">SIZE</span>=<span class="string">"5"</span>&gt;</span><span class="tag">&lt;<span class="name">P</span>&gt;</span></span><br><span class="line">	<span class="tag">&lt;<span class="name">INPUT</span> <span class="attr">TYPE</span>=<span class="string">"SUBMIT"</span> <span class="attr">VALUE</span>=<span class="string">"确定"</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">FORM</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">FORM</span> <span class="attr">ACTION</span>=<span class="string">"/cgi-bin/mult-post.cgi"</span> <span class="attr">method</span>=<span class="string">"Post"</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">P</span>&gt;</span>Post:请在下面填入乘数和被乘数，按下确定后可以看到结果。<span class="tag">&lt;<span class="name">p</span>&gt;</span></span><br><span class="line">	<span class="tag">&lt;<span class="name">INPUT</span> <span class="attr">NAME</span>=<span class="string">"m"</span> <span class="attr">SIZE</span>=<span class="string">"5"</span>&gt;</span><span class="tag">&lt;<span class="name">p</span>&gt;</span></span><br><span class="line">	<span class="tag">&lt;<span class="name">INPUT</span> <span class="attr">NAME</span>=<span class="string">"n"</span> <span class="attr">SIZE</span>=<span class="string">"5"</span>&gt;</span><span class="tag">&lt;<span class="name">P</span>&gt;</span></span><br><span class="line">	<span class="tag">&lt;<span class="name">INPUT</span> <span class="attr">TYPE</span>=<span class="string">"SUBMIT"</span> <span class="attr">VALUE</span>=<span class="string">"确定"</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">FORM</span>&gt;</span></span><br></pre></td></tr></table></figure></p>
<p>mult-get.c (get请求参数是通过环境变量传入的)<br><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;stdio.h&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;stdlib.h&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span><br><span class="line"></span>&#123;</span><br><span class="line">	<span class="keyword">char</span> *data;</span><br><span class="line">	<span class="keyword">int</span> m, n;</span><br><span class="line">	<span class="built_in">printf</span>(<span class="string">"Content-Type: text/html\n\n"</span>);</span><br><span class="line">	<span class="built_in">printf</span>(<span class="string">"&lt;title&gt;Mult-Get&lt;/title&gt;"</span>);</span><br><span class="line">	data = getenv(<span class="string">"QUERY_STRING"</span>);</span><br><span class="line">	<span class="keyword">if</span>(<span class="literal">NULL</span> == data)</span><br><span class="line">		<span class="built_in">printf</span>(<span class="string">"Error get"</span>)</span><br><span class="line">	<span class="keyword">if</span>(<span class="built_in">sscanf</span>(data, <span class="string">"m=%d&amp;n=%d"</span>, &amp;m, &amp;n) != <span class="number">2</span>)</span><br><span class="line">		<span class="built_in">printf</span>(<span class="string">"Error: Parameters are not right"</span>);</span><br><span class="line">	<span class="keyword">else</span></span><br><span class="line">		<span class="built_in">printf</span>(<span class="string">"%d * %d = %d"</span>, m, n, m * n);</span><br><span class="line">	<span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p>
<p>mult-post.c (post请求参数是通过标准输入传入的)<br><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;stdio.h&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;stdlib.h&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span><br><span class="line"></span>&#123;</span><br><span class="line">    <span class="keyword">int</span> length;</span><br><span class="line">    <span class="keyword">char</span> *lenstr, poststr[<span class="number">32</span>];</span><br><span class="line">    <span class="keyword">long</span> m, n;</span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">"Content-Type: text/html\n\n"</span>);</span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">"&lt;title&gt;Mult-Post&lt;/title&gt;"</span>);</span><br><span class="line">    lenstr=getenv(<span class="string">"CONTENT_LENGTH"</span>);</span><br><span class="line">    <span class="keyword">if</span>(<span class="literal">NULL</span> == lenstr)</span><br><span class="line">        <span class="built_in">printf</span>(<span class="string">"Error post"</span>);</span><br><span class="line">    <span class="keyword">else</span></span><br><span class="line">    &#123;</span><br><span class="line">        length = atoi(lenstr);</span><br><span class="line">        fgets(poststr, length + <span class="number">1</span>, <span class="built_in">stdin</span>);</span><br><span class="line">        <span class="keyword">if</span>(<span class="built_in">sscanf</span>(poststr, <span class="string">"m=%ld&amp;n=%ld"</span>, &amp;m, &amp;n) != <span class="number">2</span>)</span><br><span class="line">            <span class="built_in">printf</span>(<span class="string">"Error: Parameters are not right"</span>);</span><br><span class="line">        <span class="keyword">else</span></span><br><span class="line">            <span class="built_in">printf</span>(<span class="string">"%ld"</span>, m * n);</span><br><span class="line">    &#125;</span><br><span class="line">	<span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p>
<h5 id="index-html放在-usr-share-apache2-htdocs-目录下"><a href="#index-html放在-usr-share-apache2-htdocs-目录下" class="headerlink" title="index.html放在/usr/share/apache2/htdocs/目录下"></a>index.html放在/usr/share/apache2/htdocs/目录下</h5><h5 id="编译mult-get-c、mult-post-c成mult-get-cgi跟mult-post-cgi放在-usr-share-apache2-cgi-bin-目录下"><a href="#编译mult-get-c、mult-post-c成mult-get-cgi跟mult-post-cgi放在-usr-share-apache2-cgi-bin-目录下" class="headerlink" title="编译mult-get.c、mult-post.c成mult-get.cgi跟mult-post.cgi放在/usr/share/apache2/cgi-bin/目录下"></a>编译mult-get.c、mult-post.c成mult-get.cgi跟mult-post.cgi放在/usr/share/apache2/cgi-bin/目录下</h5>
      
    </div>
    
    <div class="article-info article-info-index">
      
      
	<div class="article-tag tagcloud">
		<ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/CGI/">CGI</a></li></ul>
	</div>

      

      
      <div class="clearfix"></div>
    </div>
    
  </div>
  
</article>









  
    <article id="post-Apache配置cgi" class="article article-type-post" itemscope itemprop="blogPost">
  
    <div class="article-meta">
      <a href="/2016/03/22/Apache配置cgi/" class="article-date">
  	<time datetime="2016-03-22T03:56:57.744Z" itemprop="datePublished">2016-03-22</time>
</a>
    </div>
  
  <div class="article-inner">
    
      <input type="hidden" class="isFancy" />
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2016/03/22/Apache配置cgi/">Apache配置cgi</a>
    </h1>
  

      </header>
      
    
    <div class="article-entry" itemprop="articleBody">
      
        <h3 id="Apache的安装"><a href="#Apache的安装" class="headerlink" title="Apache的安装"></a>Apache的安装</h3><h4 id="1-安装apr"><a href="#1-安装apr" class="headerlink" title="1.安装apr"></a>1.安装apr</h4><figure class="highlight powershell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="number">1</span>.下载apr源: http://archive.apache.org/dist/apr/apr-<span class="number">1.4</span>.<span class="number">5</span>.tar.gz </span><br><span class="line"><span class="number">2</span>.解压apr包: tar -zxvf apr-<span class="number">1.4</span>.<span class="number">5</span>.tar.gz</span><br><span class="line"><span class="number">3</span>.配置安装信息: ./configure --prefix=/usr/local/apr</span><br><span class="line"><span class="number">4</span>.安装 :make &amp; make install</span><br></pre></td></tr></table></figure>
<h4 id="2-安装apr-util"><a href="#2-安装apr-util" class="headerlink" title="2.安装apr-util"></a>2.安装apr-util</h4><figure class="highlight powershell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="number">1</span>.下载apr-util源包: http://archive.apache.org/dist/apr/apr-util-<span class="number">1.3</span>.<span class="number">12</span>.tar.gz</span><br><span class="line"><span class="number">2</span>.解压apr-util包: tar -zxvf apr-util-<span class="number">1.3</span>.<span class="number">12</span>.tar.gz</span><br><span class="line"><span class="number">3</span>.配置安装信息: ./configure --prefix=/usr/local/apr-util -with-apr=/usr/local/apr/bin/apr-<span class="number">1</span>-config</span><br><span class="line"><span class="number">4</span>.安装: make &amp; make install</span><br></pre></td></tr></table></figure>
<h4 id="3-安装apache"><a href="#3-安装apache" class="headerlink" title="3.安装apache"></a>3.安装apache</h4><figure class="highlight powershell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="number">1</span>.下载源包: http://apache.osuosl.org//httpd/httpd-<span class="number">2.4</span>.<span class="number">18</span>.tar.bz2</span><br><span class="line"><span class="number">2</span>.解压源文件: tar -zxvf httpd-<span class="number">2.4</span>.<span class="number">16</span>.tar.gz</span><br><span class="line"><span class="number">3</span>.配置安装信息: ./configure --prefix=/usr/share/apache2 --enable-so --enable-rewrite --with-apr=/usr/local/apr --with-apr-util=/usr/local/apr-util/</span><br><span class="line"><span class="number">4</span>.安装： make &amp; make install</span><br></pre></td></tr></table></figure>
<h3 id="CGI的配置"><a href="#CGI的配置" class="headerlink" title="CGI的配置"></a>CGI的配置</h3><h4 id="1-添加CGI模块-使用安装目录下的apxs程序"><a href="#1-添加CGI模块-使用安装目录下的apxs程序" class="headerlink" title="1.添加CGI模块(使用安装目录下的apxs程序)"></a>1.添加CGI模块(使用安装目录下的apxs程序)</h4><h4 id="编译解压目录中的mod-cgi-c跟mod-cgid-c"><a href="#编译解压目录中的mod-cgi-c跟mod-cgid-c" class="headerlink" title="编译解压目录中的mod_cgi.c跟mod_cgid.c"></a>编译解压目录中的mod_cgi.c跟mod_cgid.c</h4><figure class="highlight powershell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">cd 解压目录/mudules/generators</span><br><span class="line">/usr/share/apache2/bin/apxs -i -a -c mod_cgi.c</span><br><span class="line">/usr/share/apache2/bin/apxs -i -a -c mod_cgid.c</span><br></pre></td></tr></table></figure>
<h4 id="2-配置httpd-conf文件"><a href="#2-配置httpd-conf文件" class="headerlink" title="2.配置httpd.conf文件"></a>2.配置httpd.conf文件</h4><figure class="highlight powershell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">vim /usr/shrare/apache2/conf/httpd.conf</span><br></pre></td></tr></table></figure>
<h5 id="配置文件中默认有这一行，当匹配到-cgi-bin-的url时，"><a href="#配置文件中默认有这一行，当匹配到-cgi-bin-的url时，" class="headerlink" title="配置文件中默认有这一行，当匹配到/cgi-bin/的url时，"></a>配置文件中默认有这一行，当匹配到/cgi-bin/的url时，</h5><h5 id="自动转换成-usr-share-apache-cgi-bin-相应的CGI程序。"><a href="#自动转换成-usr-share-apache-cgi-bin-相应的CGI程序。" class="headerlink" title="自动转换成/usr/share/apache/cgi-bin/相应的CGI程序。"></a>自动转换成/usr/share/apache/cgi-bin/相应的CGI程序。</h5><figure class="highlight powershell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">ScriptAlias /cgi-bin/ /usr/share/apache2/cgi-bin/</span><br></pre></td></tr></table></figure>
<h3 id="测试"><a href="#测试" class="headerlink" title="测试"></a>测试</h3><h4 id="1-开启httpd服务"><a href="#1-开启httpd服务" class="headerlink" title="1.开启httpd服务"></a>1.开启httpd服务</h4><figure class="highlight powershell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">/usr/share/apache2/bin/httpd</span><br></pre></td></tr></table></figure>
<h4 id="在-usr-share-apache-cgi-bin-中有一个test-cgi的程序"><a href="#在-usr-share-apache-cgi-bin-中有一个test-cgi的程序" class="headerlink" title="在/usr/share/apache/cgi-bin/中有一个test-cgi的程序"></a>在/usr/share/apache/cgi-bin/中有一个test-cgi的程序</h4><h4 id="给test-cgi添加权限"><a href="#给test-cgi添加权限" class="headerlink" title="给test-cgi添加权限"></a>给test-cgi添加权限</h4><figure class="highlight powershell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">chmod <span class="number">755</span> test-cgi</span><br></pre></td></tr></table></figure>
<h4 id="给test-cgi增加一行-第一行"><a href="#给test-cgi增加一行-第一行" class="headerlink" title="给test-cgi增加一行(第一行)"></a>给test-cgi增加一行(第一行)</h4><figure class="highlight powershell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#!/bin/sh</span></span><br></pre></td></tr></table></figure>
<h4 id="我们可以直接在浏览器上输入localhost-cgi-bin-test-cgi"><a href="#我们可以直接在浏览器上输入localhost-cgi-bin-test-cgi" class="headerlink" title="我们可以直接在浏览器上输入localhost/cgi-bin/test-cgi"></a>我们可以直接在浏览器上输入localhost/cgi-bin/test-cgi</h4>
      
    </div>
    
    <div class="article-info article-info-index">
      
      
	<div class="article-tag tagcloud">
		<ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/CGI/">CGI</a></li></ul>
	</div>

      

      
      <div class="clearfix"></div>
    </div>
    
  </div>
  
</article>









  
    <article id="post-Nginx配置fcgi" class="article article-type-post" itemscope itemprop="blogPost">
  
    <div class="article-meta">
      <a href="/2016/03/21/Nginx配置fcgi/" class="article-date">
  	<time datetime="2016-03-21T07:56:08.327Z" itemprop="datePublished">2016-03-21</time>
</a>
    </div>
  
  <div class="article-inner">
    
      <input type="hidden" class="isFancy" />
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2016/03/21/Nginx配置fcgi/">Nginx配置fcgi</a>
    </h1>
  

      </header>
      
    
    <div class="article-entry" itemprop="articleBody">
      
        <h2 id="CGI"><a href="#CGI" class="headerlink" title="CGI"></a>CGI</h2><h4 id="通用网关接口（Common-Gateway-Interface-CGI）是外部应用程序（CGI程序）与Web服务器之间的接口标准，是在CGI程序和Web服务器之间传递信息的规程。CGI规范允许Web服务器执行外部程序，并将它们的输出发送给Web浏览器。"><a href="#通用网关接口（Common-Gateway-Interface-CGI）是外部应用程序（CGI程序）与Web服务器之间的接口标准，是在CGI程序和Web服务器之间传递信息的规程。CGI规范允许Web服务器执行外部程序，并将它们的输出发送给Web浏览器。" class="headerlink" title="通用网关接口（Common Gateway Interface/CGI）是外部应用程序（CGI程序）与Web服务器之间的接口标准，是在CGI程序和Web服务器之间传递信息的规程。CGI规范允许Web服务器执行外部程序，并将它们的输出发送给Web浏览器。"></a>通用网关接口（Common Gateway Interface/CGI）是外部应用程序（CGI程序）与Web服务器之间的接口标准，是在CGI程序和Web服务器之间传递信息的规程。CGI规范允许Web服务器执行外部程序，并将它们的输出发送给Web浏览器。</h4><h4 id="CGI-独立于任何语言的，CGI-程序可以用任何脚本语言或者是完全独立编程语言实现，只要这个语言可以在这个系统上运行。Unix-shell-script-Python-Ruby-PHP-perl-Tcl-C-C-和-Visual-Basic-都可以用来编写-CGI-程序。"><a href="#CGI-独立于任何语言的，CGI-程序可以用任何脚本语言或者是完全独立编程语言实现，只要这个语言可以在这个系统上运行。Unix-shell-script-Python-Ruby-PHP-perl-Tcl-C-C-和-Visual-Basic-都可以用来编写-CGI-程序。" class="headerlink" title="CGI 独立于任何语言的，CGI 程序可以用任何脚本语言或者是完全独立编程语言实现，只要这个语言可以在这个系统上运行。Unix shell script,Python, Ruby, PHP, perl, Tcl, C/C++, 和 Visual Basic 都可以用来编写 CGI 程序。"></a>CGI 独立于任何语言的，CGI 程序可以用任何脚本语言或者是完全独立编程语言实现，只要这个语言可以在这个系统上运行。Unix shell script,Python, Ruby, PHP, perl, Tcl, C/C++, 和 Visual Basic 都可以用来编写 CGI 程序。</h4><h2 id="FastCGI"><a href="#FastCGI" class="headerlink" title="FastCGI"></a>FastCGI</h2><h4 id="因为传统的CGI对于每个web请求都建立一个进程，效率很差。因此有了FastCGI的出现。"><a href="#因为传统的CGI对于每个web请求都建立一个进程，效率很差。因此有了FastCGI的出现。" class="headerlink" title="因为传统的CGI对于每个web请求都建立一个进程，效率很差。因此有了FastCGI的出现。"></a>因为传统的CGI对于每个web请求都建立一个进程，效率很差。因此有了FastCGI的出现。</h4><h4 id="快速通用网关接口（Fast-Common-Gateway-Interface／FastCGI）是通用网关接口（CGI）的改进。与为每个请求创建一个新的进程不同，FastCGI使用持续的进程来处理一连串的请求。这些进程由FastCGI进程管理器管理，而不是web服务。"><a href="#快速通用网关接口（Fast-Common-Gateway-Interface／FastCGI）是通用网关接口（CGI）的改进。与为每个请求创建一个新的进程不同，FastCGI使用持续的进程来处理一连串的请求。这些进程由FastCGI进程管理器管理，而不是web服务。" class="headerlink" title="快速通用网关接口（Fast Common Gateway Interface／FastCGI）是通用网关接口（CGI）的改进。与为每个请求创建一个新的进程不同，FastCGI使用持续的进程来处理一连串的请求。这些进程由FastCGI进程管理器管理，而不是web服务。"></a>快速通用网关接口（Fast Common Gateway Interface／FastCGI）是通用网关接口（CGI）的改进。与为每个请求创建一个新的进程不同，FastCGI使用持续的进程来处理一连串的请求。这些进程由FastCGI进程管理器管理，而不是web服务。</h4><h3 id="安装Nginx"><a href="#安装Nginx" class="headerlink" title="安装Nginx"></a>安装Nginx</h3><h4 id="下载-nginx-1-7-8-tar-gz-http-nginx-org-download-nginx-1-7-8-tar-gz"><a href="#下载-nginx-1-7-8-tar-gz-http-nginx-org-download-nginx-1-7-8-tar-gz" class="headerlink" title="下载 nginx-1.7.8.tar.gz http://nginx.org/download/nginx-1.7.8.tar.gz"></a>下载 nginx-1.7.8.tar.gz <a href="http://nginx.org/download/nginx-1.7.8.tar.gz" target="_blank" rel="external">http://nginx.org/download/nginx-1.7.8.tar.gz</a></h4><h4 id="解压"><a href="#解压" class="headerlink" title="解压"></a>解压</h4><figure class="highlight powershell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">tar -zxvf nginx-<span class="number">1.7</span>.<span class="number">8</span>.tar.gz</span><br></pre></td></tr></table></figure>
<h4 id="nginx依赖以下模块"><a href="#nginx依赖以下模块" class="headerlink" title="nginx依赖以下模块"></a>nginx依赖以下模块</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">1.gzip模块需要zlib库</span><br><span class="line">2.rewrite模块需要pcre库</span><br><span class="line">3.ssl功能需要openssl库</span><br></pre></td></tr></table></figure>
<h4 id="使用yum命令安装"><a href="#使用yum命令安装" class="headerlink" title="使用yum命令安装"></a>使用yum命令安装</h4><figure class="highlight powershell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">yum install pcre pcre-devel</span><br><span class="line">yum install zlib zlib-devel</span><br><span class="line">yum install openssl openssl-devel</span><br></pre></td></tr></table></figure>
<h4 id="进入解压出来的nginx-1-7-8文件夹执行"><a href="#进入解压出来的nginx-1-7-8文件夹执行" class="headerlink" title="进入解压出来的nginx-1.7.8文件夹执行"></a>进入解压出来的nginx-1.7.8文件夹执行</h4><figure class="highlight powershell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">./configure --prefix=/usr/local/nginx</span><br><span class="line">make &amp; make install</span><br></pre></td></tr></table></figure>
<h4 id="开启、重启nginx命令"><a href="#开启、重启nginx命令" class="headerlink" title="开启、重启nginx命令"></a>开启、重启nginx命令</h4><figure class="highlight powershell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">开启 /usr/local/nginx/sbin/nginx</span><br><span class="line">重启 /usr/local/nginx/sbin/nginx -s reload</span><br></pre></td></tr></table></figure>
<h3 id="FastCGI安装"><a href="#FastCGI安装" class="headerlink" title="FastCGI安装"></a>FastCGI安装</h3><h4 id="1-安装spawn-cgi"><a href="#1-安装spawn-cgi" class="headerlink" title="1.安装spawn-cgi"></a>1.安装spawn-cgi</h4><h4 id="简介-spawn-fcgi是一个通用的FastCGI进程管理器，功能主要是打开监听端口，绑定地址，然后fork-and-exec创建我们编写的fastcgi应用程序进程，退出完成工作。fastcgi应用程序初始化，然后进入死循环侦听socket的连接请求。"><a href="#简介-spawn-fcgi是一个通用的FastCGI进程管理器，功能主要是打开监听端口，绑定地址，然后fork-and-exec创建我们编写的fastcgi应用程序进程，退出完成工作。fastcgi应用程序初始化，然后进入死循环侦听socket的连接请求。" class="headerlink" title="简介:spawn-fcgi是一个通用的FastCGI进程管理器，功能主要是打开监听端口，绑定地址，然后fork-and-exec创建我们编写的fastcgi应用程序进程，退出完成工作。fastcgi应用程序初始化，然后进入死循环侦听socket的连接请求。"></a>简介:spawn-fcgi是一个通用的FastCGI进程管理器，功能主要是打开监听端口，绑定地址，然后fork-and-exec创建我们编写的fastcgi应用程序进程，退出完成工作。fastcgi应用程序初始化，然后进入死循环侦听socket的连接请求。</h4><figure class="highlight powershell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="number">1</span>.下载压缩包：http://redmine.lighttpd.net/projects/spawn-fcgi/wiki</span><br><span class="line"><span class="number">2</span>.解压缩包</span><br><span class="line"><span class="number">3</span>.执行./configure --prefix=/usr/local/spawn/</span><br><span class="line"><span class="number">4</span>.make &amp; make install</span><br><span class="line"><span class="number">5</span>.cp /usr/local/spawn/bin/spawn-fcgi /usr/local/nginx/sbin/</span><br></pre></td></tr></table></figure>
<h4 id="2-安装fastcgi库"><a href="#2-安装fastcgi库" class="headerlink" title="2.安装fastcgi库"></a>2.安装fastcgi库</h4><figure class="highlight powershell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="number">1</span>.下载压缩包：http://download.csdn.net/download/wangkangluo1/<span class="number">3268722</span></span><br><span class="line"><span class="number">2</span>.解压压缩包</span><br><span class="line"><span class="number">3</span>.执行./configure</span><br><span class="line"><span class="number">4</span>.在/include/fcgio.h文件中加上 <span class="comment">#include &lt;cstdio&gt;</span></span><br><span class="line"><span class="number">5</span>.make &amp; make install</span><br></pre></td></tr></table></figure>
<h4 id="建立软连接"><a href="#建立软连接" class="headerlink" title="建立软连接"></a>建立软连接</h4><figure class="highlight powershell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">ln -s /usr/local/lib/libfcgi.so.<span class="number">0</span> /usr/lib/</span><br><span class="line">ldconfig</span><br></pre></td></tr></table></figure>
<h3 id="编写一个简单的CGI程序"><a href="#编写一个简单的CGI程序" class="headerlink" title="编写一个简单的CGI程序"></a>编写一个简单的CGI程序</h3><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="string">"fcgi_stdio.h"</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;stdlib.h&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span><br><span class="line"></span>&#123;</span><br><span class="line">	<span class="keyword">int</span> count = <span class="number">0</span>;</span><br><span class="line">	<span class="keyword">while</span>(FCGI_Accept() &gt;= <span class="number">0</span>)</span><br><span class="line">		<span class="built_in">printf</span>(<span class="string">"Content-type: text/html\r\n"</span></span><br><span class="line">			   <span class="string">"\r\n"</span></span><br><span class="line">			   <span class="string">"&lt;title&gt;FastCGI hello!&lt;/title&gt;"</span></span><br><span class="line">			   <span class="string">"&lt;h1&gt;FastCGI Hello!&lt;/h1&gt;"</span></span><br><span class="line">			   <span class="string">"Request number %d running on host &lt;i&gt;%s&lt;i&gt;\n"</span>,</span><br><span class="line">			   ++count, getenv(<span class="string">"SERVER_NAME"</span>));</span><br><span class="line">	<span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h4 id="编译"><a href="#编译" class="headerlink" title="编译"></a>编译</h4><figure class="highlight powershell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">gcc main.c -o FastCGI -lfcgi</span><br></pre></td></tr></table></figure>
<h3 id="Nginx配置、测试"><a href="#Nginx配置、测试" class="headerlink" title="Nginx配置、测试"></a>Nginx配置、测试</h3><h4 id="1-复制FastCGI程序到nginx下的cgibin目录-自己创建"><a href="#1-复制FastCGI程序到nginx下的cgibin目录-自己创建" class="headerlink" title="1.复制FastCGI程序到nginx下的cgibin目录(自己创建)"></a>1.复制FastCGI程序到nginx下的cgibin目录(自己创建)</h4><h4 id="2-启动spawn-fastcgi管理进程"><a href="#2-启动spawn-fastcgi管理进程" class="headerlink" title="2.启动spawn-fastcgi管理进程"></a>2.启动spawn-fastcgi管理进程</h4><figure class="highlight powershell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">/usr/local/nginx/sbin/spawn-fcgi -a <span class="number">127.0</span>.<span class="number">0.1</span> -p <span class="number">9000</span> -f /usr/local/nginx/cgibin/FastCGI</span><br></pre></td></tr></table></figure>
<h4 id="3-更改nginx-conf配置文件-添加如下配置"><a href="#3-更改nginx-conf配置文件-添加如下配置" class="headerlink" title="3.更改nginx.conf配置文件,添加如下配置"></a>3.更改nginx.conf配置文件,添加如下配置</h4><h4 id="使用了nginx的代理功能，将匹配-cgi的请求转交给spawn-fastcgi处理"><a href="#使用了nginx的代理功能，将匹配-cgi的请求转交给spawn-fastcgi处理" class="headerlink" title="使用了nginx的代理功能，将匹配/cgi的请求转交给spawn-fastcgi处理"></a>使用了nginx的代理功能，将匹配/cgi的请求转交给spawn-fastcgi处理</h4><figure class="highlight powershell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">location = /cgi &#123;</span><br><span class="line">	fastcgi_pass <span class="number">127.0</span>.<span class="number">0.1</span>:<span class="number">9000</span>;</span><br><span class="line">	fastcgi_index index.cgi;</span><br><span class="line">	fastcgi_param SCRIPT_FILENAME fcgi<span class="variable">$fastcgi_script_name</span>;</span><br><span class="line">	include fastcgi_params;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h4 id="4-启动Nginx"><a href="#4-启动Nginx" class="headerlink" title="4.启动Nginx"></a>4.启动Nginx</h4><figure class="highlight powershell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">/usr/local/nginx/sbin/nginx</span><br></pre></td></tr></table></figure>
<h4 id="5-打开浏览器输入localhost-9000"><a href="#5-打开浏览器输入localhost-9000" class="headerlink" title="5.打开浏览器输入localhost:9000"></a>5.打开浏览器输入localhost:9000</h4>
      
    </div>
    
    <div class="article-info article-info-index">
      
      
	<div class="article-tag tagcloud">
		<ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/CGI/">CGI</a></li></ul>
	</div>

      

      
      <div class="clearfix"></div>
    </div>
    
  </div>
  
</article>









  
    <article id="post-LeetCode Symmetric Tree" class="article article-type-post" itemscope itemprop="blogPost">
  
    <div class="article-meta">
      <a href="/2016/03/21/LeetCode Symmetric Tree/" class="article-date">
  	<time datetime="2016-03-21T03:03:01.336Z" itemprop="datePublished">2016-03-21</time>
</a>
    </div>
  
  <div class="article-inner">
    
      <input type="hidden" class="isFancy" />
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2016/03/21/LeetCode Symmetric Tree/">LeetCode题目:Symmetric Tree</a>
    </h1>
  

      </header>
      
    
    <div class="article-entry" itemprop="articleBody">
      
        <h2 id="Symmetric-Tree"><a href="#Symmetric-Tree" class="headerlink" title="Symmetric Tree:"></a>Symmetric Tree:</h2><p>Given a binary tree, check whether it is a mirror of itself (ie, symmetric around its center).</p>
<p> 其实关于树的算法一般都是使用递归，只要有正确的思路就很容易做出来</p>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> Solution &#123;</span><br><span class="line"><span class="keyword">private</span>:</span><br><span class="line">    <span class="comment">//一棵树是否是对称的可以根据它的子树进行判断</span></span><br><span class="line">    <span class="function"><span class="keyword">bool</span> <span class="title">helper</span><span class="params">(TreeNode *left, TreeNode *right)</span></span>&#123;</span><br><span class="line">        <span class="keyword">if</span>(<span class="literal">NULL</span> == left &amp;&amp; <span class="literal">NULL</span> == right)</span><br><span class="line">            <span class="keyword">return</span> <span class="literal">true</span>;</span><br><span class="line">        <span class="keyword">if</span>(<span class="literal">NULL</span> == left || <span class="literal">NULL</span> == right)</span><br><span class="line">            <span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">        <span class="comment">//两个子树的根节点的值必须相等</span></span><br><span class="line">        <span class="keyword">if</span>(left-&gt;val != right-&gt;val)</span><br><span class="line">            <span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">        <span class="comment">/*</span><br><span class="line">            根据对称树的定义，可以得到下面的规律</span><br><span class="line">            左子树的左子树跟右子树的右子树必须对称</span><br><span class="line">            左子树的右子树跟右子树的左子树必须对称</span><br><span class="line">        */</span></span><br><span class="line">        <span class="keyword">return</span> helper(left-&gt;left, right-&gt;right) &amp;&amp; helper(left-&gt;right, right-&gt;left);</span><br><span class="line">    &#125;</span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">    <span class="function"><span class="keyword">bool</span> <span class="title">isSymmetric</span><span class="params">(TreeNode* root)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">if</span>(<span class="literal">NULL</span> == root)</span><br><span class="line">            <span class="keyword">return</span> <span class="literal">true</span>;</span><br><span class="line">        <span class="keyword">return</span> helper(root-&gt;left, root-&gt;right);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>

      
    </div>
    
    <div class="article-info article-info-index">
      
      
	<div class="article-tag tagcloud">
		<ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/LeetCode/">LeetCode</a></li></ul>
	</div>

      

      
      <div class="clearfix"></div>
    </div>
    
  </div>
  
</article>









  
    <article id="post-LeetCode Balanced Binary Tree" class="article article-type-post" itemscope itemprop="blogPost">
  
    <div class="article-meta">
      <a href="/2016/03/16/LeetCode Balanced Binary Tree/" class="article-date">
  	<time datetime="2016-03-16T07:14:21.039Z" itemprop="datePublished">2016-03-16</time>
</a>
    </div>
  
  <div class="article-inner">
    
      <input type="hidden" class="isFancy" />
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2016/03/16/LeetCode Balanced Binary Tree/">LeetCode题目:Balanced Binary Tree</a>
    </h1>
  

      </header>
      
    
    <div class="article-entry" itemprop="articleBody">
      
        <h2 id="Balanced-Binary-Tree"><a href="#Balanced-Binary-Tree" class="headerlink" title="Balanced Binary Tree:"></a>Balanced Binary Tree:</h2><p>Given a binary tree, determine if it is height-balanced.</p>
<p>For this problem, a height-balanced binary tree is defined as a binary tree in which the depth of the two subtrees of every node never differ by more than 1.</p>
<p><strong>tags:DFS</strong></p>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> Solution &#123;</span><br><span class="line"><span class="keyword">private</span>:</span><br><span class="line">    <span class="comment">//求出树的深度</span></span><br><span class="line">    <span class="function"><span class="keyword">int</span> <span class="title">depth</span><span class="params">(TreeNode *root)</span></span>&#123;</span><br><span class="line">        <span class="keyword">if</span>(<span class="literal">NULL</span> == root)</span><br><span class="line">            <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">        <span class="keyword">return</span> max(depth(root-&gt;left), depth(root-&gt;right)) + <span class="number">1</span>;</span><br><span class="line">    &#125;</span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">    <span class="function"><span class="keyword">bool</span> <span class="title">isBalanced</span><span class="params">(TreeNode* root)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">if</span>(<span class="literal">NULL</span> == root)</span><br><span class="line">            <span class="keyword">return</span> <span class="literal">true</span>;</span><br><span class="line">        <span class="comment">//判断是否符合条件</span></span><br><span class="line">        <span class="keyword">if</span>(<span class="built_in">abs</span>(depth(root-&gt;left) - depth(root-&gt;right)) &gt; <span class="number">1</span>)</span><br><span class="line">            <span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">        <span class="comment">//递归的判断左右子树是否是平衡的</span></span><br><span class="line">        <span class="keyword">return</span> isBalanced(root-&gt;left) &amp;&amp; isBalanced(root-&gt;right);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>
<p>感觉这样做会重复计算了子树的深度，不过这样做思路比较清晰。</p>

      
    </div>
    
    <div class="article-info article-info-index">
      
      
	<div class="article-tag tagcloud">
		<ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/LeetCode/">LeetCode</a></li></ul>
	</div>

      

      
      <div class="clearfix"></div>
    </div>
    
  </div>
  
</article>









  
    <article id="post-LeetCode House Robber" class="article article-type-post" itemscope itemprop="blogPost">
  
    <div class="article-meta">
      <a href="/2016/03/16/LeetCode House Robber/" class="article-date">
  	<time datetime="2016-03-16T07:09:35.738Z" itemprop="datePublished">2016-03-16</time>
</a>
    </div>
  
  <div class="article-inner">
    
      <input type="hidden" class="isFancy" />
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2016/03/16/LeetCode House Robber/">LeetCode题目:House Robber</a>
    </h1>
  

      </header>
      
    
    <div class="article-entry" itemprop="articleBody">
      
        <h2 id="House-Robber"><a href="#House-Robber" class="headerlink" title="House Robber:"></a>House Robber:</h2><p>You are a professional robber planning to rob houses along a street. Each house has a certain amount of money stashed, the only constraint stopping you from robbing each of them is that adjacent houses have security system connected and it will automatically contact the police if two adjacent houses were broken into on the same night.</p>
<p>Given a list of non-negative integers representing the amount of money of each house, determine the maximum amount of money you can rob tonight without alerting the police.</p>
<p><strong>tags:Dynamic Programming</strong></p>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> Solution &#123;</span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">    <span class="function"><span class="keyword">int</span> <span class="title">rob</span><span class="params">(<span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt;&amp; nums)</span> </span>&#123;</span><br><span class="line">        <span class="comment">//coll数组用来保存前i间house可以rob到的最大值</span></span><br><span class="line">        <span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt; coll;</span><br><span class="line">        <span class="keyword">int</span> size = nums.size();</span><br><span class="line">        <span class="keyword">if</span>(<span class="number">0</span> == size)</span><br><span class="line">            <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">        <span class="keyword">if</span>(<span class="number">1</span> == size)</span><br><span class="line">            <span class="keyword">return</span> nums[<span class="number">0</span>];</span><br><span class="line">        <span class="comment">//初始化条件</span></span><br><span class="line">        coll.push_back(nums[<span class="number">0</span>]);</span><br><span class="line">        coll.push_back(nums[<span class="number">0</span>] &gt; nums[<span class="number">1</span>] ? nums[<span class="number">0</span>] : nums[<span class="number">1</span>]);</span><br><span class="line">        <span class="comment">//前i间house可以rob到的最大值可以根据coll[i - 1]、coll[i - 2]、nums[i]构造出来</span></span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> i = <span class="number">2</span>; i &lt; size; ++i)</span><br><span class="line">            coll.push_back(max(coll[i - <span class="number">1</span>], coll[i - <span class="number">2</span>] + nums[i]));</span><br><span class="line">        <span class="keyword">return</span> coll[size - <span class="number">1</span>];</span><br><span class="line">    &#125;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>

      
    </div>
    
    <div class="article-info article-info-index">
      
      
	<div class="article-tag tagcloud">
		<ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/LeetCode/">LeetCode</a></li></ul>
	</div>

      

      
      <div class="clearfix"></div>
    </div>
    
  </div>
  
</article>









  
    <article id="post-LeetCode Contains Duplicate" class="article article-type-post" itemscope itemprop="blogPost">
  
    <div class="article-meta">
      <a href="/2016/03/16/LeetCode Contains Duplicate/" class="article-date">
  	<time datetime="2016-03-16T03:56:00.678Z" itemprop="datePublished">2016-03-16</time>
</a>
    </div>
  
  <div class="article-inner">
    
      <input type="hidden" class="isFancy" />
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2016/03/16/LeetCode Contains Duplicate/">LeetCode题目:Contains Duplicate</a>
    </h1>
  

      </header>
      
    
    <div class="article-entry" itemprop="articleBody">
      
        <h2 id="Contains-Duplicate"><a href="#Contains-Duplicate" class="headerlink" title="Contains Duplicate:"></a>Contains Duplicate:</h2><p>Given an array of integers, find if the array contains any duplicates. Your function should return true if any value appears at least twice in the array, and it should return false if every element is distinct.</p>
<p><strong>tags:hashtable</strong></p>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//hash槽的大小应该根据输入来决定</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> HASH_SIZE 3000</span></span><br><span class="line"><span class="keyword">class</span> Solution &#123;</span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">    <span class="function"><span class="keyword">bool</span> <span class="title">containsDuplicate</span><span class="params">(<span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt;&amp; nums)</span> </span>&#123;</span><br><span class="line">        <span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt; coll[HASH_SIZE];</span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> i : nums)&#123;</span><br><span class="line">            <span class="keyword">int</span> hash = i &gt; <span class="number">0</span> ? i % <span class="number">1000</span> : -i % <span class="number">1000</span>;</span><br><span class="line">            <span class="keyword">if</span>(find(coll[hash].begin(), coll[hash].end(), i) != coll[hash].end())</span><br><span class="line">                <span class="keyword">return</span> <span class="literal">true</span>;</span><br><span class="line">            coll[hash].push_back(i);</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>

      
    </div>
    
    <div class="article-info article-info-index">
      
      
	<div class="article-tag tagcloud">
		<ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/LeetCode/">LeetCode</a></li></ul>
	</div>

      

      
      <div class="clearfix"></div>
    </div>
    
  </div>
  
</article>









  
    <article id="post-LeetCode Move Zero" class="article article-type-post" itemscope itemprop="blogPost">
  
    <div class="article-meta">
      <a href="/2016/03/16/LeetCode Move Zero/" class="article-date">
  	<time datetime="2016-03-16T03:37:39.516Z" itemprop="datePublished">2016-03-16</time>
</a>
    </div>
  
  <div class="article-inner">
    
      <input type="hidden" class="isFancy" />
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2016/03/16/LeetCode Move Zero/">LeetCode题目:Move Zeroes</a>
    </h1>
  

      </header>
      
    
    <div class="article-entry" itemprop="articleBody">
      
        <h2 id="Move-Zeroes："><a href="#Move-Zeroes：" class="headerlink" title="Move Zeroes："></a>Move Zeroes：</h2><p>Given an array nums, write a function to move all 0’s to the end of it while maintaining the relative order of the non-zero elements.</p>
<p>For example, given nums = [0, 1, 0, 3, 12], after calling your function, nums should be [1, 3, 12, 0, 0].</p>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> Solution &#123;</span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">    <span class="function"><span class="keyword">void</span> <span class="title">moveZeroes</span><span class="params">(<span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt;&amp; nums)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">int</span> size = nums.size();</span><br><span class="line">        <span class="comment">//ins_pos代表可插入的位置</span></span><br><span class="line">        <span class="keyword">int</span> ins_pos = <span class="number">0</span>;</span><br><span class="line">        <span class="comment">//找到一个非0的数并插入到ins_pos</span></span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; size; ++i)&#123;</span><br><span class="line">            <span class="keyword">if</span>(nums[i] != <span class="number">0</span>)</span><br><span class="line">                nums[ins_pos++] = nums[i];</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="comment">//把数组的后面置为0</span></span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> i = ins_pos; i &lt; size; ++i)</span><br><span class="line">            nums[i] = <span class="number">0</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>

      
    </div>
    
    <div class="article-info article-info-index">
      
      
	<div class="article-tag tagcloud">
		<ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/LeetCode/">LeetCode</a></li></ul>
	</div>

      

      
      <div class="clearfix"></div>
    </div>
    
  </div>
  
</article>









  
  
</div>
      <footer id="footer">
  <div class="outer">
    <div id="footer-info">
    	<div class="footer-left">
    		&copy; 2016 runnyu
    	</div>
      	<div class="footer-right">
      		<a href="http://hexo.io/" target="_blank">Hexo</a>  Theme <a href="https://github.com/litten/hexo-theme-yilia" target="_blank">Yilia</a> by Litten
      	</div>
    </div>
  </div>
</footer>
    </div>
    
  <link rel="stylesheet" href="/fancybox/jquery.fancybox.css">


<script>
	var yiliaConfig = {
		fancybox: true,
		mathjax: true,
		animate: true,
		isHome: true,
		isPost: false,
		isArchive: false,
		isTag: false,
		isCategory: false,
		open_in_new: false
	}
</script>
<script src="http://7.url.cn/edu/jslib/comb/require-2.1.6,jquery-1.9.1.min.js"></script>
<script src="/js/main.js"></script>






<script type="text/x-mathjax-config">
MathJax.Hub.Config({
    tex2jax: {
        inlineMath: [ ['$','$'], ["\\(","\\)"]  ],
        processEscapes: true,
        skipTags: ['script', 'noscript', 'style', 'textarea', 'pre', 'code']
    }
});

MathJax.Hub.Queue(function() {
    var all = MathJax.Hub.getAllJax(), i;
    for(i=0; i < all.length; i += 1) {
        all[i].SourceElement().parentNode.className += ' has-jax';                 
    }       
});
</script>

<script type="text/javascript" src="http://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML">
</script>


  </div>
</body>
</html>